[
  {
    "WorkflowName": "OrderWorkflow",
    "Rules": [
      {
        "RuleName": "DiscountEligibilityRule",
        //"Expression": "Purchase.PurchaseAmount > 100",
        "Expression": "Purchase.Test = \"100\"",
        //"Expression": "customer.CustomerType = \"Premium\"",
        "SuccessEvent": "ApplyDiscount",
        "OnSuccess": {
          "Name": "ApplyDiscount"
        },
        "ErrorMessage": "Not eligible for discount"
      },
      {
        "RuleName": "DiscountEligibilityRule2",
        "Expression": "p.PurchaseAmount < 100",
        //"Expression": "Purchase.Test = \"100\"",
        //"Expression": "customer.CustomerType = \"Premium\"",
        "SuccessEvent": "ApplyDiscount",
        "OnSuccess": {
          "Name": "ApplyDiscount"
        },
        "ErrorMessage": "Not eligible for discount"
      },
      {
        "RuleName": "Drop17",
        "Expression": "Testing.Drop(\"cellMajor\", \"cell1,cell2\",\"drop\") ==true",
        "SuccessEvent": "Success",
        "OnSuccess": {
          "Name": "ApplyDrop"
        },
        "ErrorMessage": "Checking error"
      },

      {
        "RuleName": "DiscountEligibilityRule3",
        "Expression": "p.PurchaseAmount > 100",
        "SuccessEvent": "ApplyDiscountP",
        "LocalParams": [
          {
            "Name": "testAmount",
            "Expression": "p.PurchaseAmount"
          },
          {
            "Name": "ownVariable",
            "Expression": "true"
          }
          //{
          //  "Name": "customerType",
          //  "Expression": "customer.CustomerType"
          //}
        ],
        "Properties": {
          "discountRate": 0.10
        },
        "OnSuccess": {
          "Name": "ApplyDiscountP",
          "Parameters": [
            {
              "Name": "purchaseAmount",
              "Value": "purchaseAmount"
            }
            //{
            //  "Name": "customerType",
            //  "Value": "customerType"
            //},
            ,{
              "Name": "discountR",
              "Value": "Properties.discountRate"
            }
          ]
        },
        "ErrorMessage": "Not eligible for discount"
      }
      //{
      //  "RuleName": "ApplyDiscountP",
      //  "Expression": "p.PurchaseAmount > 100",
      //  "SuccessEvent": "ApplyDiscountP",
      //  "OnSuccess": {
      //    "Name": "ApplyDiscountP",
      //    "Params": [
      //      {
      //        "Name": "purchaseAmount",
      //        "Value": "999"
      //      },
      //      {
      //        "Name": "customerType",
      //        "Value": "c.CustomerType"
      //      }
      //    ]
      //  },
      //  "ErrorMessage": "Not eligible for discount"
      //}
    ]
  }
]
